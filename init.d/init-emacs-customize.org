#+TITLE: init.d - emacs customize settings
#+AUTHOR: thKim
#+EMAIL: unfor9otten@gmail.com
#+STARTUP: content
#+OPTIONS: toc:2 num:nil ^:nil

* emacs config
#+BEGIN_SRC emacs-lisp
(prefer-coding-system 'utf-8)

;; 날짜 표시 settings
;;(setq system-time-locale "C")

;; startup-message 안 보기
(setq inhibit-startup-message t)
;; scratch buffer initialize
(setq initial-scratch-message nil)
;; 선택 텍스트를 타이핑할 때, 삭제
(delete-selection-mode t)
;; 라인 넘버 보기
(global-linum-mode t)
;; 컬럼 넘버 보기
(setq column-number-mode t)
;; word-wrap
(global-visual-line-mode t)
;; 커서가 있는 라인 하이라이트
(global-hl-line-mode t)

;; syntax highlighting on
(global-font-lock-mode t)

(global-auto-revert-mode 1)

(when (fboundp 'menu-bar-mode) (menu-bar-mode -1))
(when (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(when (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))

(setq ring-bell-function 'ignore)

;;; http://robots.thoughtbot.com/no-newline-at-end-of-file
(setq require-final-newline t)

;;; title bar
(setq frame-title-format "%b")

;;괄호 강조 
(show-paren-mode t)

#+END_SRC
** tabs
#+BEGIN_SRC emacs-lisp
;; indent = spaces
(setq-default indent-tabs-mode nil)
;; tab width = 4 spaces
(setq standard-indent 4)
(setq-default tab-width 4)

#+END_SRC
* backup file
#+BEGIN_SRC emacs-lisp
;;; backup
(add-to-list 'backup-directory-alist '("." . "~/.emacs-saves"))
(setq delete-old-versions t
      kept-old-versions 2
      kept-new-versions 2
      version-control t)

#+END_SRC

* theme & font
** theme
#+BEGIN_SRC emacs-lisp
(use-package atom-one-dark-theme
	     :ensure t
	     :config
	     (load-theme 'atom-one-dark t))
#+END_SRC

** font
#+BEGIN_SRC emacs-lisp

(when *is-windows*
 (set-face-attribute 'default nil :family "Consolas")
 (set-face-attribute 'default nil :height 120))


(set-fontset-font t 'hangul (font-spec :name "NanumGothicCoding"))
#+END_SRC

* auto complete
** company auto complete
#+BEGIN_SRC emacs-lisp
;; 자동완성
(use-package company
  :ensure t
  :bind (("C-c /". company-complete))
  :config
  (global-company-mode))

;; 자동완성 정렬
(use-package company-flx
  :ensure t
  :config
  (company-flx-mode +1))
#+END_SRC
* key binding 
#+BEGIN_SRC emacs-lisp
(defalias 'yes-or-no-p 'y-or-n-p)

;; M-x - C-xC-m
(global-set-key "\C-x\C-m" 'execute-extended-command)

;; global go to
(global-set-key (kbd "M-g") 'goto-line)

;;; emacs-lisp-mode
(add-hook 'emacs-lisp-mode-hook
	  (lambda ()
	    (define-key emacs-lisp-mode-map "\C-c\C-c" 'eval-defun)))

;;; lisp-interaction-mode
(add-hook 'lisp-interaction-mode-hook
	  (lambda ()
	    (define-key lisp-interaction-mode-map "\C-c\C-c" 'eval-defun)))
#+END_SRC
* shell config
#+BEGIN_SRC emacs-lisp
(when *is-linux*
    (defalias 'sh 'ansi-term))

(when *is-windows*
  (defalias 'sh 'shell)
  (let* ((git-dir "C:/Program Files/Git")
	 (bash-dir (concat (file-name-as-directory git-dir) "bin")))
    (setq explicit-shell-file-name (concat (file-name-as-directory bash-dir)
					   "bash.exe"))
    (setq shell-file-name explicit-shell-file-name)
    (add-to-list 'exec-path git-dir)
    (add-to-list 'exec-path bash-dir)
    (setq explicit-bash.exe-args '("--noediting" "--login" "-i"))
    (setenv "SHELL" shell-file-name)
    (setenv "PATH" (concat git-dir path-separator
			   (concat bash-dir path-separator (getenv "PATH"))))))
#+END_SRC
